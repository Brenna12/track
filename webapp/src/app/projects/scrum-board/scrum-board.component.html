<style>
  @media only screen and (min-width: 701px) {
    .fth {
      width: 20%;
    }
  }

  @media only screen and (max-width: 700px) {
    .fth {
      width: 100%;
    }
  }

</style>

<div class="row">
  <div style="margin-top: 20px">
    <!-- <div class="col m3 red lighten-1">
      <h3>PBI's</h3>
    </div> -->

    <div class="col fth  darken-4" style="border: 2px solid">
      <h3 class="grey-text text-darken-4 center">Product Backlog Items (This Sprint)</h3>

      <div *ngIf="pbis < 1" class="center">
        <p>No issues in this state.</p>
      </div>

      <div *ngIf="pbis" class="">

        <div *ngFor="let issue of pbis" class="card light-blue lighten-4">
          <div class="card-content black-text">
            <span class="card-title">{{issue.fields.summary}}</span>
              <small  *ngIf="issue.fields.parent">Subtask of <b>{{issue.fields.parent.fields.summary}}</b></small>  

            <p>
              <b>Task:</b>
              <br> </p>
            <br>
            <p>
              <b>Priority:</b>
              <br> {{issue.fields.priority.name}}</p>
            <br>
            <div class="card-content grey lighten-4">
              <h5>Time</h5>
              <b>Last Updated:</b>
              <br>
              <p>
                {{issue.fields.updated | date:'medium' }}
              </p>
              <b>Estimated Time:</b>
              <br>
              <p>
                {{issue.fields.aggregatetimeoriginalestimate / 3600 }} hours
              </p>
              <b>Logged Progress:</b>
              <br>
              <p>
                  <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) < 1">
                    {{issue.fields.aggregateprogress.progress / 3600 * 60  | number:'1.0' }} minutes ( {{( issue.fields.aggregatetimespent / issue.fields.aggregatetimeoriginalestimate) * 100}}%)  
                  </span>
                  <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) > 1">
                    {{issue.fields.aggregateprogress.progress / 3600 | number:'1.1'  }} hours ( {{( issue.fields.aggregatetimespent / issue.fields.aggregatetimeoriginalestimate) * 100}}%) 
                  </span>
                </p>
            </div>

          </div>
          <div class="card-action">
            <!-- <a href="{{issue.self}}">View on Jira</a> -->
          </div>
        </div>
      </div>


    </div>
    <div class="col fth lighten-2">
      <h3 class="grey-text text-darken-4 center">To Do</h3>

      <div *ngIf="todo < 1" class="center">
        <p>No issues in this state.</p>
      </div>

      <div *ngIf="todo" class="">

        <div *ngFor="let issue of todo" class="card">
          <div class="card-content black-text">
              <span class="card-title">{{issue.key}} (



                  <span *ngIf="issue.fields.issuetype.name === 'Story'" class="green-text">{{issue.fields.issuetype.name}}</span>
                  <span *ngIf="issue.fields.issuetype.name === 'Bug'" class="red-text">{{issue.fields.issuetype.name}}</span>
                  <span *ngIf="issue.fields.issuetype.name === 'Sub-task'" class="blue-text">{{issue.fields.issuetype.name}}</span>
                
                
                
                
                )</span> 
                <small  *ngIf="issue.fields.parent">Subtask of <b>{{issue.fields.parent.key}}</b></small>  

                <p>
              <b>Task:</b>
              <br> {{issue.fields.summary}}</p>
            <br>
            <p>
              <b>Priority:</b>
              <br> {{issue.fields.priority.name}}</p>
            <br>
            <div class="card-content grey lighten-4">
                <h5>Time</h5>
                <b>Last Updated:</b>
                <br>
                <p>
                  {{issue.fields.updated | date:'medium' }}
                </p>
                <b>Estimated Time:</b>
                <br>
                <p>
                  {{issue.fields.aggregatetimeoriginalestimate / 3600 }} hours
                </p>
                <b>Logged Progress:</b>
                <br>
                <p>
                    <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) < 1">
                      {{issue.fields.aggregateprogress.progress / 3600 * 60  | number:'1.0' }} minutes ( {{( issue.fields.aggregatetimespent / issue.fields.aggregatetimeoriginalestimate) * 100}}%)  
                    </span>
                    <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) > 1">
                      {{issue.fields.aggregateprogress.progress / 3600 | number:'1.1'  }} hours ( {{( issue.fields.aggregatetimespent / issue.fields.aggregatetimeoriginalestimate) * 100}}%) 
                    </span>
                  </p>
              </div>

          </div>
          <div class="card-action">
            <!-- <a href="{{issue.self}}">View on Jira</a> -->
          </div>
        </div>
      </div>


    </div>
    <div class="col fth lighten-2">
      <h3 class="grey-text text-darken-4 center">In Progress</h3>

      <div *ngIf="progress < 1" class="center">
        <p>No issues in this state.</p>
      </div>

      <div *ngIf="progress" class="">

        <div *ngFor="let issue of progress" class="card">
          <div class="card-content black-text">
              <span class="card-title">{{issue.key}} (



                  <span *ngIf="issue.fields.issuetype.name === 'Story'" class="green-text">{{issue.fields.issuetype.name}}</span>
                  <span *ngIf="issue.fields.issuetype.name === 'Bug'" class="red-text">{{issue.fields.issuetype.name}}</span>
                  <span *ngIf="issue.fields.issuetype.name === 'Sub-task'" class="blue-text">{{issue.fields.issuetype.name}}</span>
                
                
                
                
                
                  )</span>    
                  <small  *ngIf="issue.fields.parent">Subtask of <b>{{issue.fields.parent.key}}</b></small>  
                          <p>
              <b>Task:</b>
              <br> {{issue.fields.summary}}</p>
            <br>
            <p>
              <b>Priority:</b>
              <br> {{issue.fields.priority.name}}</p>
            <br>
            <div class="card-content grey lighten-4">
                <h5>Time</h5>
                <b>Last Updated:</b>
                <br>
                <p>
                  {{issue.fields.updated | date:'medium' }}
                </p>
                <b>Estimated Time:</b>
                <br>
                <p>
                  {{issue.fields.aggregatetimeoriginalestimate / 3600 }} hours
                </p>
                <b>Logged Progress:</b>
                <br>
                <p>
                    <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) < 1">
                      {{issue.fields.aggregateprogress.progress / 3600 * 60  | number:'1.0' }} minutes ( {{( issue.fields.aggregatetimespent / issue.fields.aggregatetimeoriginalestimate) * 100}}%)  
                    </span>
                    <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) > 1">
                      {{issue.fields.aggregateprogress.progress / 3600 | number:'1.1'  }} hours ( {{( issue.fields.aggregatetimespent / issue.fields.aggregatetimeoriginalestimate) * 100}}%) 
                    </span>
                  </p>
              </div>

          </div>
          <div class="card-action">
          </div>
        </div>




      </div>
    </div>


  
    <div class="col fth lighten-2">
      <h3 class="grey-text text-darken-4 center">Complete</h3>

      <div *ngIf="complete < 1" class="center">
        <p>No issues in this state.</p>
      </div>

      <div *ngIf="complete" class="ceter">

        <div *ngFor="let issue of complete" class="card">
          <div class="card-content black-text">
              <span class="card-title">{{issue.key}} (



                  <span *ngIf="issue.fields.issuetype.name === 'Story'" class="green-text">{{issue.fields.issuetype.name}}</span>
                  <span *ngIf="issue.fields.issuetype.name === 'Bug'" class="red-text">{{issue.fields.issuetype.name}}</span>
                  <span *ngIf="issue.fields.issuetype.name === 'Sub-task'" class="blue-text">{{issue.fields.issuetype.name}}</span>
                
                
                
                
                )</span>    
                <small  *ngIf="issue.fields.parent">Subtask of <b>{{issue.fields.parent.key}}</b></small>  
            <p>
              <b>Task:</b>
              <br> {{issue.fields.summary}}</p>
            <br>
            <p>
              <b>Priority:</b>
              <br> {{issue.fields.priority.name}}</p>
            <br>
            <div class="card-content grey lighten-4">
                <h5>Time</h5>
                <b>Last Updated:</b>
                <br>
                <p>
                  {{issue.fields.updated | date:'medium' }}
                </p>
                <b>Estimated Time:</b>
                <br>
                <p>
                  {{issue.fields.aggregatetimeoriginalestimate / 3600 }} hours
                </p>
                <b>Logged Progress:</b>
                <br>
                <p>
                  <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) < 1">
                    {{issue.fields.aggregateprogress.progress / 3600 * 60  | number:'1.0' }} minutes ( {{(issue.fields.aggregatetimeoriginalestimate / issue.fields.aggregatetimespent) * 100}}%)  
                  </span>
                  <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) > 1">
                    {{issue.fields.aggregateprogress.progress / 3600 | number:'1.1'  }} hours ( {{issue.fields.aggregateprogress.percent}}%)  
                  </span>
                </p>
              </div>
          </div>
          <div class="card-action">
          </div>
        </div>
      </div>
    </div>


    <div class="col fth lighten-1">


        <h3 class="grey-text text-darken-4 center ">Done</h3>
        <div *ngIf="done < 1" class="center">
          <p>No issues in this state.</p>
        </div>
        <div *ngIf="done" class="">
  
          <div *ngFor="let issue of done" class="card ">
            <div class="card-content black-text">
                <span class="card-title">{{issue.key}} (



                    <span *ngIf="issue.fields.issuetype.name === 'Story'" class="green-text">{{issue.fields.issuetype.name}}</span>
                    <span *ngIf="issue.fields.issuetype.name === 'Bug'" class="red-text">{{issue.fields.issuetype.name}}</span>
                    <span *ngIf="issue.fields.issuetype.name === 'Sub-task'" class="blue-text">{{issue.fields.issuetype.name}}</span>
                  
                  
                  
                  
                  )</span>   
                  <small  *ngIf="issue.fields.parent">Subtask of <b>{{issue.fields.parent.key}}</b></small>  
                  <p>
                <b>Task:</b>
                <br> {{issue.fields.summary}}</p>
              <br>
              <p>
                <b>Priority:</b>
                <br> {{issue.fields.priority.name}}</p>
              <br>
              <div class="card-content grey lighten-4">
                  <h5>Time</h5>
                  <b>Last Updated:</b>
                  <br>
                  <p>
                    {{issue.fields.updated | date:'medium' }}
                  </p>
                  <b>Estimated Time:</b>
                  <br>
                  <p>
                    {{issue.fields.aggregatetimeoriginalestimate / 3600 }} hours
                  </p>
                  <b>Logged Progress:</b>
                  <br>
                  <p>
                    <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) < 1">
                      {{issue.fields.aggregateprogress.progress / 3600 * 60  | number:'1.0' }} minutes ( {{( issue.fields.aggregatetimespent / issue.fields.aggregatetimeoriginalestimate) * 100}}%)  
                    </span>
                    <span *ngIf="(issue.fields.aggregateprogress.progress / 3600) > 1">
                      {{issue.fields.aggregateprogress.progress / 3600 | number:'1.1'  }} hours ( {{( issue.fields.aggregatetimespent / issue.fields.aggregatetimeoriginalestimate) * 100}}%) 
                    </span>
                  </p>
                </div>
            </div>
            <div class="card-action">
            </div>
          </div>
  
  
  
  
        </div>
  
      </div>
  
  
  
  </div>
  <!-- <button (click)="logObject()"class="btn btn-small">Click</button> -->
</div>
